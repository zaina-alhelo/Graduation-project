<!-- Footer area start -->
<footer>
    <section class="footer__area-common white-bg overflow-hidden theme-bg-color-100" data-background="assets/imgs/footer/background.png">
        <div class="container">
            <div class="row mb-minus-50">
                <div class="col-lg-3 col-6">
                    <div class="footer__widget footer__widget-item-1">
                        <div class="footer__logo mb-30 mb-xs-25">
                            <a href="index.html">
                                <img class="img-fluid" src="{{ asset('landing/images/logoff.png') }}" alt="OptiEye logo">
                            </a>
                        </div>

                        <div class="footer__content">
                            <p class="mb-0">OptiEye combines advanced AI technology with expert ophthalmology to protect and preserve your vision</p>
                        </div>

                        <div class="footer__social mt-30 mt-xs-30">
                            <a href="https://www.instagram.com/optieyesup?igsh=MWhrem4zM2xka3lwbw=="><i class="fa-brands fa-instagram"></i></a>
                            <a href="https://www.facebook.com/profile.php?id=61575094193652"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://x.com/optieyesup">
                                <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.0596 6.77295L15.8879 -0.00195312H14.5068L9.44607 5.8806L5.40411 -0.00195312H0.742188L6.85442 8.89352L0.742188 15.998H2.12338L7.4676 9.78587L11.7362 15.998H16.3981L10.0593 6.77295H10.0596ZM8.16787 8.97189L7.54857 8.0861L2.62104 1.03779H4.74248L8.71905 6.726L9.33834 7.61179L14.5074 15.0056H12.386L8.16787 8.97223V8.97189Z" fill="#071C3C"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-6">
                    <div class="footer__widget footer__widget-item-2">
                        <div class="footer__widget-title">
                            <h4>Services</h4>
                        </div>
                        <div class="footer__link">
                            <ul>
                                <li><a href="{{ route('service') }}">AI Eye Scans</a></li>
                                <li><a href="{{ route('service') }}">Disease Detection</a></li>
                                <li><a href="{{ route('service') }}">Vision Monitoring</a></li>
                                <li><a href="{{ route('service') }}">Teleophthalmology</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-6">
                    <div class="footer__widget footer__widget-item-3">
                        <div class="footer__widget-title">
                            <h4>Our newsletter</h4>
                        </div>

                        <div class="footer__subscribe-content">
                            <p class="mb-30 mb-xs-25">Subscribe to our newsletter for the latest updates on eye health technology, AI advancements, and preventive care tips</p>

                            <div class="footer__subscribe d-flex mt-30 mt-xs-25">
                                <input type="text" placeholder="Enter e-mail">
                                <button type="submit" class="rr-btn rr-btn__theme">
                                <span class="btn-wrap">
                                    <span class="text-one"><i class="fa-solid fa-paper-plane"></i></span>

                                    <span class="text-two"><i class="fa-solid fa-paper-plane"></i></span>
                                </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-6">
                    <div class="footer__widget footer__widget-item-4">
                        <div class="footer__widget-title">
                            <h4>Our Office</h4>
                        </div>

                        <div class="footer__link footer__link-location">
                            <ul>
                                <li><a href="mailto:contact@optieye.com"><i class="fa-solid fa-envelope"></i> optieyesup@gmail.com</a></li>
                                <li><a href="https://maps.app.goo.gl/GbYDkVogoiG7y9dAA"><i class="fa-solid fa-location-dot"></i>Al Hussein Bin Talal University</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer__bottom-wrapper">
            <div class="container">
                <div class="footer__bottom">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="footer__copyright text-lg-start text-center">
                                <p class="mb-0">Â© <a href="index.html">OptiEye</a> 2025 | All Rights Reserved</p>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="footer__copyright-menu">
                                <ul>
                                    <li><a href="about-us.html">Terms & Conditions</a></li>
                                    <li><a href="about-us.html">Privacy Policy</a></li>
                                    <li><a href="contact.html">Contact Us</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</footer>
<!-- Footer area end -->

<!-- JS here -->
<script src="{{ asset('landing/assets/js/vendor/jquery-3.7.1.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/waypoints.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/vendor/bootstrap.bundle.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/meanmenu.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/odometer.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/swiper.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/wow.js') }}"></script>
<script src="{{ asset('landing/assets/js/vendor/magnific-popup.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/vendor/type.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/nice-select.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/vendor/jquery-ui.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/vendor/jquery.appear.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/parallax.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/parallax-scroll.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/gsap.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/ScrollTrigger.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/SplitText.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/tween-max.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/draggable.min.js') }}"></script>
<script src="{{ asset('landing/assets/js/plugins/smoothscroll.js') }}"></script>
<script src="{{ asset('landing/assets/js/vendor/ajax-form.js') }}"></script>
<script src="{{ asset('landing/assets/js/main.js') }}"></script>

<!-- Chatbot functionality -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const chatToggle = document.getElementById('chat-bot-toggle');
    const chatWindow = document.getElementById('chat-bot-window');
    const chatClose = document.getElementById('chat-close');
    const chatInput = document.querySelector('.chat-input input');
    const chatSend = document.querySelector('.chat-input button');
    const chatMessages = document.querySelector('.chat-messages');

    // Toggle chat window
    chatToggle.addEventListener('click', function() {
        chatWindow.classList.toggle('hidden');
        if (!chatWindow.classList.contains('hidden')) {
            chatInput.focus();
        }
    });

    // Close chat window
    chatClose.addEventListener('click', function() {
        chatWindow.classList.add('hidden');
    });

    // Send message function
    function sendMessage() {
        const message = chatInput.value.trim();
        if (message) {
            // Add user message
            const userMessageElement = document.createElement('div');
            userMessageElement.classList.add('message', 'user');
            userMessageElement.textContent = message;
            chatMessages.appendChild(userMessageElement);
            
            // Clear input
            chatInput.value = '';
            
            // Auto scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Simulate bot response (in a real implementation, this would call your chatbot API)
            setTimeout(function() {
                const botMessageElement = document.createElement('div');
                botMessageElement.classList.add('message', 'bot');
                botMessageElement.textContent = "Thank you for your message. Our team will get back to you shortly.";
                chatMessages.appendChild(botMessageElement);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
        }
    }

    // Send on button click
    chatSend.addEventListener('click', sendMessage);
    
    // Send on Enter key
    chatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });
});
</script>

<!-- Appointment calendar -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.10.1/main.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize calendar
        const calendarEl = document.getElementById('appointment-calendar');
        if (calendarEl) {
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                headerToolbar: {
                    left: 'prev,next',
                    center: 'title',
                    right: 'today'
                },
                selectable: true,
                selectConstraint: {
                    start: new Date(),
                    end: new Date(new Date().setMonth(new Date().getMonth() + 3))
                },
                selectAllow: function(info) {
                    // Only allow future dates
                    return info.start >= new Date().setHours(0,0,0,0);
                },
                dateClick: function(info) {
                    // Reset previous selections
                    document.querySelectorAll('.fc-day').forEach(day => {
                        day.classList.remove('selected-day');
                    });
                    
                    // Only allow future dates
                    const clickedDate = new Date(info.dateStr);
                    const today = new Date();
                    today.setHours(0,0,0,0);
                    
                    if (clickedDate >= today) {
                        info.dayEl.classList.add('selected-day');
                        displayAvailableTimeSlots(info.dateStr);
                        
                        // Update the displayed selected date
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        document.getElementById('displaySelectedDate').textContent = 'Selected Date';
                        document.getElementById('displayFormattedDate').textContent = new Date(info.dateStr).toLocaleDateString('en-US', options);
                    }
                }
            });
            calendar.render();
            
            // Handle "Today" button click
            const todayButton = document.getElementById('todayButton');
            if (todayButton) {
                todayButton.addEventListener('click', function() {
                    calendar.today();
                    
                    // Simulate click on today's date
                    const today = new Date();
                    const dateStr = today.toISOString().slice(0, 10);
                    const todayCell = document.querySelector(`.fc-day[data-date="${dateStr}"]`);
                    if (todayCell) {
                        todayCell.click();
                    }
                });
            }
        }
        
        // Function to display available time slots
        function displayAvailableTimeSlots(dateStr) {
            // Clear any previously selected time
            document.querySelectorAll('.time-slot-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Hide confirmation section
            const selectedDateTime = document.getElementById('selectedDateTime');
            if (selectedDateTime) {
                selectedDateTime.classList.add('d-none');
            }
            
            // Sample time slots - in a real app, you would fetch these from your backend
            const morningSlots = ['9:00 AM', '10:00 AM', '11:00 AM'];
            const afternoonSlots = ['1:00 PM', '2:00 PM', '3:00 PM', '4:00 PM'];
            
            // Populate morning slots
            const morningContainer = document.getElementById('morningSlots');
            if (morningContainer) {
                morningContainer.innerHTML = '';
                
                if (morningSlots.length > 0) {
                    morningSlots.forEach(time => {
                        const button = document.createElement('button');
                        button.className = 'time-slot-btn';
                        button.textContent = time;
                        button.addEventListener('click', function() {
                            selectTimeSlot(this, dateStr, time);
                        });
                        morningContainer.appendChild(button);
                    });
                } else {
                    morningContainer.innerHTML = '<p class="text-muted">No morning appointments available</p>';
                }
            }
            
            // Populate afternoon slots
            const afternoonContainer = document.getElementById('afternoonSlots');
            if (afternoonContainer) {
                afternoonContainer.innerHTML = '';
                
                if (afternoonSlots.length > 0) {
                    afternoonSlots.forEach(time => {
                        const button = document.createElement('button');
                        button.className = 'time-slot-btn';
                        button.textContent = time;
                        button.addEventListener('click', function() {
                            selectTimeSlot(this, dateStr, time);
                        });
                        afternoonContainer.appendChild(button);
                    });
                } else {
                    afternoonContainer.innerHTML = '<p class="text-muted">No afternoon appointments available</p>';
                }
            }
            
            // Show/hide "no times" message
            const noTimesMessage = document.getElementById('noTimesMessage');
            if (noTimesMessage) {
                if (morningSlots.length === 0 && afternoonSlots.length === 0) {
                    noTimesMessage.classList.remove('d-none');
                } else {
                    noTimesMessage.classList.add('d-none');
                }
            }
        }
        
        // Function to handle time slot selection
        function selectTimeSlot(button, dateStr, time) {
            // Reset all buttons
            document.querySelectorAll('.time-slot-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Mark this button as selected
            button.classList.add('selected');
            
            // Update the confirmation section
            const selectedDateTime = document.getElementById('selectedDateTime');
            if (selectedDateTime) {
                selectedDateTime.classList.remove('d-none');
                
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                const selectedDate = document.getElementById('selectedDate');
                const selectedTime = document.getElementById('selectedTime');
                
                if (selectedDate) selectedDate.textContent = new Date(dateStr).toLocaleDateString('en-US', options);
                if (selectedTime) selectedTime.textContent = time;
                
                // Scroll to the confirmation section
                selectedDateTime.scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        // Handle confirmation button click
        const confirmTimeBtn = document.getElementById('confirmTimeBtn');
        if (confirmTimeBtn) {
            confirmTimeBtn.addEventListener('click', function() {
                // In a real app, you would send the selected date and time to your backend
                alert('Appointment confirmed! You would be redirected to a confirmation page in a real app.');
                // window.location.href = '/appointment/confirm?date=' + selectedDate + '&time=' + selectedTime;
            });
        }
    });
</script>

@yield('scripts')
</body>

</html>